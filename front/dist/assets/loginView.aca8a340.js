import{d as x,r as m,a as F,b as s,o as E,g as C,h as a,e,w as l,f as D,i as f,j as g,p as S,k,_ as I}from"./index.17f5108c.js";const r=d=>(S("data-v-f9cd88a4"),d=d(),k(),d),N={class:"body"},q=r(()=>a("div",{class:"title"}," \u5DE5\u7A0B\u5B9E\u8DF5\u9009\u9898\u7CFB\u7EDF ",-1)),z=r(()=>a("hr",null,null,-1)),A={class:"login"},U=r(()=>a("br",null,null,-1)),J=r(()=>a("h2",{style:{padding:"10px 0 30px 0","text-align":"center"}},"\u7528\u6237\u767B\u5F55",-1)),O={style:{"text-align":"-webkit-center"}},R=r(()=>a("br",null,null,-1)),j=x({__name:"loginView",setup(d){const B=m("default"),p=m(),t=F({username:"",password:"",identity:""}),b=F({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7\uFF01",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01",trigger:"blur"}],identity:[{required:!0,message:"\u8BF7\u9009\u62E9\u767B\u5F55\u8EAB\u4EFD\uFF01",trigger:"change"}]}),h=async _=>{!_||await _.validate((u,i)=>{u?t.identity==="\u5B66\u751F"?f.post("/student/login",t).then(o=>{o.code!=="200"?alert("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF\uFF01"):(sessionStorage.setItem("student",JSON.stringify(o.data)),g.push("/student"))}):f.post("/teacher/login",t).then(o=>{o.code!=="200"?alert("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF\uFF01"):(sessionStorage.setItem("teacher",JSON.stringify(o.data)),g.push("/teacher"))}):console.log("error submit!",i)})};return(_,u)=>{const i=s("el-input"),o=s("el-form-item"),c=s("el-radio"),y=s("el-radio-group"),w=s("el-button"),V=s("el-form"),v=s("el-card");return E(),C("div",N,[q,z,a("div",A,[U,e(v,{style:{width:"450px",margin:"0 auto","background-color":"rgba(255, 255, 255, 0.8)"}},{default:l(()=>[J,a("div",O,[e(V,{"label-placement":"left","label-width":"60px",style:{maxWidth:"300px",margin:"0 auto"},ref_key:"loginFormRef",ref:p,model:t,rules:b,size:B.value,"status-icon":""},{default:l(()=>[e(o,{label:"\u8D26\u53F7",prop:"username"},{default:l(()=>[e(i,{clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",modelValue:t.username,"onUpdate:modelValue":u[0]||(u[0]=n=>t.username=n)},null,8,["modelValue"])]),_:1}),e(o,{label:"\u5BC6\u7801",prop:"password"},{default:l(()=>[e(i,{clearable:"","show-password":"",type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",modelValue:t.password,"onUpdate:modelValue":u[1]||(u[1]=n=>t.password=n)},null,8,["modelValue"])]),_:1}),e(o,{label:"\u8EAB\u4EFD",prop:"identity"},{default:l(()=>[e(y,{modelValue:t.identity,"onUpdate:modelValue":u[2]||(u[2]=n=>t.identity=n)},{default:l(()=>[e(c,{label:"\u5B66\u751F"}),e(c,{label:"\u6559\u5E08"})]),_:1},8,["modelValue"])]),_:1}),e(o,null,{default:l(()=>[e(w,{type:"primary",onClick:u[3]||(u[3]=n=>h(p.value))},{default:l(()=>[D("\u767B\u5F55")]),_:1})]),_:1})]),_:1},8,["model","rules","size"]),R])]),_:1})])])}}});const W=I(j,[["__scopeId","data-v-f9cd88a4"]]);export{W as default};
